from setuptools import setup, Distribution
import distutils
from distutils.util import get_platform
# force External module
class BinaryDistribution(Distribution):
    def has_ext_modules(self):
        return True

# select the file to copy
if 'linux' in get_platform():
    ext_lib  = '.so'
elif 'win' in get_platform():
    ext_lib  = '.pyd'
else:
    ext_lib  = '.dylib'

    
setup(
    name='pyibex',
    version='${PACKAGE_VERSION}',
    distclass=BinaryDistribution,
    description='python binding for ibex',
    packages=['pyibex', 'pyibex'],
    package_data={
        'pyibex': ['pyibex'+ext_lib],

    },
    ext_modules = [],
    include_package_data=True
)
