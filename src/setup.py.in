from setuptools import setup, Distribution
import distutils
from distutils.util import get_platform
# force External module
class BinaryDistribution(Distribution):
    def has_ext_modules(self):
        return True

# select the file to copy
if 'linux' in get_platform():
    ext_lib  = '.so'
elif 'win' in get_platform():
    ext_lib  = '.pyd'
else:
    ext_lib  = '.dylib'


setup(
    name='pyIbex',
    version='${PACKAGE_VERSION}',
    distclass=BinaryDistribution,
    description='python binding for ibex',
    packages=['pyIbex', 'pyIbex.core'],
    package_data={
        'pyIbex.core': ['_core'+ext_lib],
				'pyIbex': ['polar'+ext_lib],
    },
    ext_modules = [],
    include_package_data=True
)
